# Default settings for the pipeline stages.
# These can be overridden in the stage settings below.

# Unique identifier for runs of this pipeline
pipeline_id: "nonlynch001"

defaults:
    # Number of CPU cores to use for the task
    cores: 1
    # Maximum memory in gigabytes for a cluster job
    mem: 4
    # VLSCI account for quota
    account: VR0002
    queue: main 
    # Maximum allowed running time on the cluster in Hours:Minutes
    walltime: '1:00'
    # Load modules for running a command on the cluster.
    modules: 
    # Run on the local machine (where the pipeline is run)
    # instead of on the cluster. False means run on the cluster.
    local: False

# Stage-specific settings. These override the defaults above.
# Each stage must have a unique name. This name will be used in
# the pipeine to find the settings for the stage.

stages:
    # Index the hg19 human genome reference with BWA
    index_reference_bwa:
        walltime: '10:00'
        mem: 60 
    
    # Index the hg19 human genome reference with samtools
    index_reference_samtools:
        walltime: '10:00'
        mem: 60 
    
    # Index the hg19 human genome reference with samtools
    index_reference_bowtie2:
        walltime: '10:00'
        mem: 60 
    
    # Align paired end FASTQ files to the reference
    align_bwa:
        cores: 8
        walltime: '30:00'
        mem: 60
        modules: ''

    # Sort alignment with samtools 
    sort_bam_samtools:
        cores: 8
        walltime: '30:00'
        mem: 60
        modules:
            - 'samtools-intel/1.1'

    # Index a bam file using sam tools (this can be shared amongst various sorting stages)
    index_bam:
        cores: 1
        walltime: '48:00'
        mem: 8
        modules:
            - 'samtools-intel/1.1'

    # Call structural variants with DELLY 
    structural_variants_delly:
        cores: 16
        walltime: '200:00'
        mem: 240
        modules:
            - 'delly-gcc/0.7.1'
        exclude: delly.human.hg19.excl.tsv
    
# Temporary directory

tmp: /scratch/VR0002/bjpop/non_lynch/tmp 

# The Human Genome in FASTA format.

reference: /scratch/VR0002/bjpop/colorectal_lynch_syndrome_buchanan/reference/genome.fa 

# The input FASTQ files.

fastqs:
   - 0151002015/0151002015_R1.fastq.gz
   - 0151002015/0151002015_R2.fastq.gz
   - 0151044013/0151044013_R1.fastq.gz
   - 0151044013/0151044013_R2.fastq.gz
   - 0151085001/0151085001_R1.fastq.gz
   - 0151085001/0151085001_R2.fastq.gz
   - 0252017010/0252017010_R1.fastq.gz
   - 0252017010/0252017010_R2.fastq.gz
   - 0252017017/0252017017_R1.fastq.gz
   - 0252017017/0252017017_R2.fastq.gz
   - 0252042011/0252042011_R1.fastq.gz
   - 0252042011/0252042011_R2.fastq.gz
   - 0350184010/0350184010_R1.fastq.gz
   - 0350184010/0350184010_R2.fastq.gz
   - 0656000018/0656000018_R1.fastq.gz
   - 0656000018/0656000018_R2.fastq.gz
   - 0656027011/0656027011_R1.fastq.gz
   - 0656027011/0656027011_R2.fastq.gz
   - 0656027012/0656027012_R1.fastq.gz
   - 0656027012/0656027012_R2.fastq.gz
   - 0656027015/0656027015_R1.fastq.gz
   - 0656027015/0656027015_R2.fastq.gz
   - 0757074001/0757074001_R1.fastq.gz
   - 0757074001/0757074001_R2.fastq.gz
   - 9920001001/9920001001_R1.fastq.gz
   - 9920001001/9920001001_R2.fastq.gz
   - 9920001009/9920001009_R1.fastq.gz
   - 9920001009/9920001009_R2.fastq.gz
   - A04622/A04622_1.fastq.gz
   - A04622/A04622_2.fastq.gz
   - A04886/A04886_1.fastq.gz
   - A04886/A04886_2.fastq.gz
   - A05271/A05271_1.fastq.gz
   - A05271/A05271_2.fastq.gz
   - A07341/A07341_1.fastq.gz
   - A07341/A07341_2.fastq.gz
   - A08677/A08677_1.fastq.gz
   - A08677/A08677_2.fastq.gz
   - BRI034001/BRI034001_R1.fastq.gz
   - BRI034001/BRI034001_R2.fastq.gz
   - BRI034009/BRI034009_R1.fastq.gz
   - BRI034009/BRI034009_R2.fastq.gz
   - NZL021001/NZL021001_R1.fastq.gz
   - NZL021001/NZL021001_R2.fastq.gz
   - NZL021011/NZL021011_R1.fastq.gz
   - NZL021011/NZL021011_R2.fastq.gz
   - NZL157002/NZL157002_R1.fastq.gz
   - NZL157002/NZL157002_R2.fastq.gz
   - NZL174001/NZL174001_R1.fastq.gz
   - NZL174001/NZL174001_R2.fastq.gz
   - NZL174009/NZL174009_R1.fastq.gz
   - NZL174009/NZL174009_R2.fastq.gz
   - NZL190001/NZL190001_R1.fastq.gz
   - NZL190001/NZL190001_R2.fastq.gz
   - NZL208001/NZL208001_R1.fastq.gz
   - NZL208001/NZL208001_R2.fastq.gz
   - NZL222001/NZL222001_R1.fastq.gz
   - NZL222001/NZL222001_R2.fastq.gz
   - NZL228001/NZL228001_R1.fastq.gz
   - NZL228001/NZL228001_R2.fastq.gz

read_groups:
   '0151002015': '@RG\tID:0151002015\tSM:0151002015\tPL:Illumina'
   '0151085001': '@RG\tID:0151085001\tSM:0151085001\tPL:Illumina'
   '0252017017': '@RG\tID:0252017017\tSM:0252017017\tPL:Illumina'
   '0350184010': '@RG\tID:0350184010\tSM:0350184010\tPL:Illumina'
   '0656027011': '@RG\tID:0656027011\tSM:0656027011\tPL:Illumina'
   '0656027015': '@RG\tID:0656027015\tSM:0656027015\tPL:Illumina'
   '9920001001': '@RG\tID:9920001001\tSM:9920001001\tPL:Illumina'
   'A04622': '@RG\tID:A04622\tSM:A04622\tPL:Illumina'
   'A05271': '@RG\tID:A05271\tSM:A05271\tPL:Illumina'
   'A08677': '@RG\tID:A08677\tSM:A08677\tPL:Illumina'
   'BRI034009': '@RG\tID:BRI034009\tSM:BRI034009\tPL:Illumina'
   'NZL021001': '@RG\tID:NZL021001\tSM:NZL021001\tPL:Illumina'
   'NZL157002': '@RG\tID:NZL157002\tSM:NZL157002\tPL:Illumina'
   'NZL174009': '@RG\tID:NZL174009\tSM:NZL174009\tPL:Illumina'
   'NZL208001': '@RG\tID:NZL208001\tSM:NZL208001\tPL:Illumina'
   'NZL228001': '@RG\tID:NZL228001\tSM:NZL228001\tPL:Illumina'
   '0151044013': '@RG\tID:0151044013\tSM:0151044013\tPL:Illumina'
   '0252017010': '@RG\tID:0252017010\tSM:0252017010\tPL:Illumina'
   '0252042011': '@RG\tID:0252042011\tSM:0252042011\tPL:Illumina'
   '0656000018': '@RG\tID:0656000018\tSM:0656000018\tPL:Illumina'
   '0656027012': '@RG\tID:0656027012\tSM:0656027012\tPL:Illumina'
   '0757074001': '@RG\tID:0757074001\tSM:0757074001\tPL:Illumina'
   '9920001009': '@RG\tID:9920001009\tSM:9920001009\tPL:Illumina'
   'A04886': '@RG\tID:A04886\tSM:A04886\tPL:Illumina'
   'A07341': '@RG\tID:A07341\tSM:A07341\tPL:Illumina'
   'BRI034001': '@RG\tID:BRI034001\tSM:BRI034001\tPL:Illumina'
   'NZL021011': '@RG\tID:NZL021011\tSM:NZL021011\tPL:Illumina'
   'NZL174001': '@RG\tID:NZL174001\tSM:NZL174001\tPL:Illumina'
   'NZL190001': '@RG\tID:NZL190001\tSM:NZL190001\tPL:Illumina'
   'NZL222001': '@RG\tID:NZL222001\tSM:NZL222001\tPL:Illumina'
